(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var f,aa="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},g;if("function"==typeof Object.setPrototypeOf)g=Object.setPrototypeOf;else{var k;a:{var ba={ja:!0},l={};try{l.__proto__=ba;k=l.ja;break a}catch(a){}k=!1}g=k?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var n=g,ca=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");},da=ca(this),p=this||self,ea=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==
c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},q=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};var r=function(a,b,c){a=parseInt(a.getAttribute(b),10);isNaN(a)&&(a=c);return a},t=function(a,b,c){return a.hasAttribute(b)?a.getAttribute(b):c};var u=function(a,b){this.Sa=a;this.na=b};u.prototype.fetch=function(){navigator.geolocation.getCurrentPosition(this.La.bind(this),this.Ba.bind(this))};u.prototype.La=function(a){a=a.coords;this.Sa(a.latitude,a.longitude,a.accuracy)};u.prototype.Ba=function(a){this.na(a.message)};var v=function(a,b,c){c=void 0===c?null:c;var d=document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!0,c);b.dispatchEvent(d);return d},fa=function(a,b){var c=function(d){a.removeEventListener("load",c);b(d)};a.addEventListener("load",c)};var w=function(){this.Ra="https://www.google.com/jsapi";for(var a=["google","load"],b=window,c=0;b&&c<a.length;c++)b=b[a[c]];this.A=b?0:2;this.B=[]};w.prototype.Ia=function(){for(var a=this.A=0;a<this.B.length;a++)this.B[a]();this.B=[]};
w.prototype.load=function(a){a&&(0==this.A?a():this.B.push(a));if(2==this.A){this.A=1;a=document.createElement("script");fa(a,this.Ia.bind(this));a.setAttribute("type","text/javascript");a.setAttribute("async",!0);a.setAttribute("src",this.Ra);var b=document.getElementsByTagName("script")[0];b?b.parentNode.insertBefore(a,b):document.getElementsByTagName("head")[0].appendChild(a)}};var x=null,ha=function(a){x||(x=new w);x.load(function(){google.load("maps","3.28",a)})};var y=function(a,b){this.Na=a;this.Ma=new google.maps.places.PlacesService(b)};y.prototype.search=function(a,b,c){a={location:a.getCenter()||void 0,radius:3*a.getRadius(),query:this.Na};this.Ma.textSearch(a,function(d,e){c(e==google.maps.places.PlacesServiceStatus.OK?d:[])})};var z=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(z,Error);z.prototype.name="CustomError";var A=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");z.call(this,c+a[d])};q(A,z);A.prototype.name="AssertionError";var ia=function(a,b,c){if(!a){var d="Assertion failed";if(b){d+=": "+b;var e=Array.prototype.slice.call(arguments,2)}throw new A(""+d,e||[]);}return a},B=function(a,b){throw new A("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var E=function(a,b){this.Y=a===C&&b||"";this.ia=D};E.prototype.w=!0;E.prototype.v=function(){return this.Y};E.prototype.toString=function(){return"Const{"+this.Y+"}"};var D={},C={};var H=function(a,b){this.V=a===F&&b||"";this.ha=G};H.prototype.w=!0;H.prototype.v=function(){return this.V.toString()};H.prototype.toString=function(){return"SafeUrl{"+this.V+"}"};
var I=function(a){if(a instanceof H&&a.constructor===H&&a.ha===G)return a.V;B("expected object of type SafeUrl, got '"+a+"' of type "+ea(a));return"type_error:SafeUrl"},ja=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,J=function(a){if(a instanceof H)return a;a="object"==typeof a&&a.w?a.v():String(a);ia(ja.test(a),"%s does not match the safe URL pattern",a)||(a="about:invalid#zClosurez");return new H(F,a)},G={},F={};var K=function(){this.U=""};K.prototype.w=!0;K.prototype.v=function(){return this.U};K.prototype.toString=function(){return"SafeStyle{"+this.U+"}"};K.prototype.N=function(a){this.U=a};(new K).N("");var L=function(){this.T=""};L.prototype.w=!0;L.prototype.v=function(){return this.T};L.prototype.toString=function(){return"SafeStyleSheet{"+this.T+"}"};L.prototype.N=function(a){this.T=a};(new L).N("");var M=function(a,b){a:{try{var c=a&&a.ownerDocument,d=c&&(c.defaultView||c.parentWindow);d=d||p;if(d.Element&&d.Location){var e=d;break a}}catch(h){}e=null}if(e&&"undefined"!=typeof e.HTMLAnchorElement&&(!a||!(a instanceof e.HTMLAnchorElement)&&(a instanceof e.Location||a instanceof e.Element))){e=typeof a;if("object"==e&&null!=a||"function"==e)try{var m=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(h){m="<object could not be stringified>"}else m=void 0===
a?"undefined":null===a?"null":typeof a;B("Argument is not a %s (or a non-Element, non-Location mock); got: %s","HTMLAnchorElement",m)}b=b instanceof H?b:J(b);a.href=I(b)},N=function(a){a=a instanceof H?a:J(a);p.open(I(a),"",void 0,void 0)};var O=function(a){a=a.trim();return window.Enabler?window.Enabler.getUrl(a):a};var P=function(a,b,c,d,e,m,h){this.M=a;this.a=null;this.Oa=c;this.va=d;this.wa=e;this.Pa=m;this.c=h;this.ua=h.limit;this.W=h.radius;this.aa=null;this.m=0;this.g=this.s=this.ca=this.K=this.L=this.I=this.ea=this.$=this.R=null;this.h=[];this.D=[];this.ga=null;this.b=b.ownerDocument.createElement("div");this.b.className="map";b.appendChild(this.b)},Q=function(a,b,c){var d=a.b.ownerDocument.createElement("img"),e=function(){d.removeEventListener("load",e,!1);d.removeEventListener("error",e,!1);d.removeEventListener("abort",
e,!1);c()};d.addEventListener("load",e,!1);d.addEventListener("error",e,!1);d.addEventListener("abort",e,!1);d.setAttribute("src",O(b))};
P.prototype.ma=function(){this.m--;if(0==this.m){var a=this.c;if(a.lat&&a.lng){var b=new google.maps.LatLng(a.lat,a.lng);var c=a.zoom;var d=!0}else b=new google.maps.LatLng(0,0),c=1;c=new google.maps.Map(this.b,{center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1});this.ga=c.getBounds();google.maps.event.addListener(c,"dragend",this.Aa.bind(this));google.maps.event.addListener(c,"click",this.Ja.bind(this));var e=O(this.c.markerSource);this.R={url:e,size:new google.maps.Size(34,
34),origin:new google.maps.Point(0,0)};this.$={url:e,size:new google.maps.Size(34,34),origin:new google.maps.Point(34,0)};this.ea={url:e,size:new google.maps.Size(37,34),origin:new google.maps.Point(68,0),anchor:new google.maps.Point(10,34)};this.L={url:O(this.c.gpsIconSource),size:new google.maps.Size(32,32),anchor:new google.maps.Point(0,0)};this.aa=new y(a.query||"*",c);d&&new google.maps.Marker({position:b,map:c,icon:this.L});this.a=c;this.Oa()}};
P.prototype.Aa=function(){if(this.s){for(var a=this.a.getBounds(),b=!0,c=0;c<this.D.length;c++)if(a.contains(this.D[c].geometry.location||null)){b=!1;break}b&&!this.s.getBounds().contains(this.a.getCenter())&&(this.u(),this.Pa())}};P.prototype.u=function(){this.g&&(this.g.setIcon(this.R),this.g=null)};
var R=function(a,b,c,d){a.a&&(b=new google.maps.LatLng(b,c),c=a.a,a.K=b,c.setCenter(b),new google.maps.Marker({position:b,map:c,icon:a.L}),d&&(a.W=d,a.ca=new google.maps.Circle({center:b,radius:a.W,map:c,fillColor:"#a2d1f5",fillOpacity:.5,strokeWeight:0}),c.fitBounds(a.ca.getBounds())))};f=P.prototype;f.search=function(a){if(this.a){var b=this.W,c=10-this.a.getZoom();0<c&&(b*=c);this.s=new google.maps.Circle({center:this.a.getCenter(),radius:b});this.aa.search(this.s,this.ua,this.C.bind(this,a))}};
f.C=function(a,b){for(var c=0;c<this.h.length;c++)this.h[c].setMap(null),google.maps.event.clearInstanceListeners(this.h[c]);this.h.length=0;this.D=b;for(c=0;c<b.length;c++){var d=new google.maps.Marker({position:b[c].geometry.location,map:this.a,icon:this.R,Ua:this.ea});google.maps.event.addListener(d,"click",this.S.bind(this,c));this.h.push(d)}this.a.fitBounds(this.s.getBounds());if(c=0<b.length)d=this.a.getBounds(),b=b[0].geometry.location||null,d&&!d.contains(b)&&(d.extend(b),this.a.fitBounds(d));
a(c)};f.Ja=function(){this.u();this.va()};f.S=function(a){this.u();this.g=this.h[a];this.wa(this.D[a],this.oa.bind(this))};f.oa=function(a){this.g.setIcon(this.$);this.a.panTo(this.g.getPosition());this.a.panBy(0,a)};f.sa=function(a,b,c,d){d==google.maps.GeocoderStatus.OK?(b=c[0].geometry.location,this.a.setCenter(b),this.a.fitBounds(c[0].geometry.viewport),R(this,b.lat(),b.lng()),a()):b()};var T=function(a,b,c,d){this.M=a;this.H=null;this.la=c;this.ra=d;this.b=b.ownerDocument.createElement("div");this.b.className="ip";a=b.ownerDocument.createElement("div");a.className="bg";this.b.appendChild(a);c=b.ownerDocument.createElement("a");c.className="dir";c.appendChild(b.ownerDocument.createElement("div"));a.appendChild(c);c.addEventListener("click",this.Ha.bind(this),!1);c=b.ownerDocument.createElement("div");c.className="res";this.Z=b.ownerDocument.createElement("div");this.Z.className=
"title";this.G=b.ownerDocument.createElement("div");this.G.className="address";this.o=b.ownerDocument.createElement("div");this.o.className="tel";d=this.i=b.ownerDocument.createElement("a");var e=new E(C,"#");e instanceof E&&e.constructor===E&&e.ia===D?e=e.Y:(B("expected object of type Const, got '"+e+"'"),e="type_error:Const");M(d,new H(F,e));this.o.appendChild(this.i);c.appendChild(this.Z);c.appendChild(this.G);c.appendChild(this.o);a.appendChild(c);this.i.addEventListener("click",this.xa.bind(this));
c=b.ownerDocument.createElement("a");c.className="close";c.appendChild(b.ownerDocument.createElement("div"));a.appendChild(c);c.addEventListener("click",this.ya.bind(this),!1);S(this);b.appendChild(this.b)},S=function(a){a.b.classList.add("hidden")};T.prototype.xa=function(a){a.preventDefault();a=this.i.href;v("calllocation",this.M,{url:a}).detail.handled||N(a)};T.prototype.ya=function(a){a.preventDefault();S(this);this.la()};T.prototype.Ha=function(a){a.preventDefault();this.H&&this.ra(this.H)};var U=function(a){var b=document.createElement("div");b.className="bg hidden";var c=document.createElement("div");c.className="loading";c.appendChild(document.createElement("div"));b.appendChild(c);this.b=b;a.appendChild(this.b)};U.prototype.show=function(){this.b.classList.remove("hidden")};var V=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},W=function(a){if(V(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&V(a))return a;return null};var la=function(a,b,c,d){this.J=b;this.qa=c;this.b=ka(this,d);this.pa=this.b.querySelector("form");this.ta=this.b.querySelector("input");this.Ta=this.b.querySelector(".title");this.ka=this.b.querySelector(".btns");a.appendChild(this.b)},ka=function(a,b){var c=document.createElement("div"),d=document.createElement("div");d.classList.add("diag");c.appendChild(d);var e=document.createElement("div");e.classList.add("title");e.textContent=b.title;d.appendChild(e);e=document.createElement("div");e.classList.add("btns");
d.appendChild(e);var m=document.createElement("form");m.setAttribute("method","get");d.appendChild(m);var h=document.createElement("input");h.placeholder=b.geocodePlaceholder;h.type="search";m.appendChild(h);a.J?(ma(e,b.gpsLabel,a.J),ma(e,b.geocodeLabel,a.X.bind(a,b.geocodeTitle))):e.classList.add("hidden");b=c.querySelector("form");b.addEventListener("submit",function(oa){oa.preventDefault();this.qa(h.value)}.bind(a),!1);a.J&&b.classList.add("hidden");c.classList.add("bg");return c},ma=function(a,
b,c){var d=document.createElement("a");d.textContent=b;d.addEventListener("click",function(e){e.preventDefault();c()},!1);d.setAttribute("href","#");a.appendChild(d)};la.prototype.X=function(a){this.Ta.textContent=a;this.ka.classList.add("hidden");this.pa.classList.remove("hidden");this.b.classList.remove("hidden");this.ta.focus()};var na=["start-latitude","start-longitude","query"],X=function(){var a=HTMLElement.call(this)||this;a.da=!1;a.P=!1;a.O=!1;return a},Y=HTMLElement;X.prototype=aa(Y.prototype);X.prototype.constructor=X;if(n)n(X,Y);else for(var Z in Y)if("prototype"!=Z)if(Object.defineProperties){var pa=Object.getOwnPropertyDescriptor(Y,Z);pa&&Object.defineProperty(X,Z,pa)}else X[Z]=Y[Z];f=X.prototype;
f.connectedCallback=function(){if(!this.a){for(;this.firstChild;)this.removeChild(this.firstChild);var a={geocodeFailure:t(this,"msg-geocode-failure","Your location could not be determined. Please enter a valid address."),gpsIconSource:t(this,"gps-src","assets/location.png"),limit:r(this,"result-limit",20),locationDialogConfig:{title:t(this,"msg-start-position-prompt","How would you like us to get your position?"),gpsLabel:t(this,"msg-gps-button-label","Use GPS"),geocodeLabel:t(this,"msg-manual-position-button-label",
"Enter address or zip code"),geocodeTitle:t(this,"msg-manual-position-prompt","Enter address or zip code"),geocodePlaceholder:t(this,"msg-manual-position-placeholder","Address or zip code")},markerSource:t(this,"marker-src","assets/marker_sprite.png"),noResultsError:t(this,"msg-no-results-found","No results found near you."),radius:r(this,"search-radius",4E4),requestLocation:this.hasAttribute("request-user-location")||!this.hasAttribute("start-latitude")||!this.hasAttribute("start-longitude"),zoom:r(this,
"start-zoom",16),showLocationBar:this.hasAttribute("show-location-bar"),includeDirections:this.hasAttribute("include-directions"),includeClickToCall:this.hasAttribute("include-click-to-call"),includeDrapeImage:this.hasAttribute("include-drape-image")};this.hasAttribute("query")&&(a.query=this.getAttribute("query"));this.hasAttribute("start-latitude")&&(a.lat=parseFloat(this.getAttribute("start-latitude")));this.hasAttribute("start-longitude")&&(a.lng=parseFloat(this.getAttribute("start-longitude")));
this.hasAttribute("client-id")&&(a.clientId=this.getAttribute("client-id"));this.hasAttribute("api-key")&&(a.apiKey=this.getAttribute("api-key"));a.showLocationBar&&this.hasAttribute("location-bar-color")&&(a.locationBarColor=this.getAttribute("location-bar-color"));a.includeDrapeImage&&this.hasAttribute("drape-image-source")&&(a.drapeImageSource=this.getAttribute("drape-image-source"));this.c=a;var b=this.ownerDocument.createElement("div");b.className="sizer";this.a=new P(this,b,this.Ka.bind(this),
this.fa.bind(this),this.S.bind(this),this.F.bind(this),a);this.ba=navigator.geolocation?new u(this.Ga.bind(this),this.Ea.bind(this)):null;this.l=new la(b,this.ba&&this.Fa.bind(this),this.Da.bind(this),a.locationDialogConfig);a.requestLocation||S(this.l);this.f=new U(b);this.appendChild(b);this.Qa=b}this.gwdIsLoaded()||((a=W(this))?a.gwdIsLoaded()&&this.gwdLoad():this.gwdLoad());this.gwdIsActive()||((a=W(this))?a.gwdIsActive()&&this.gwdActivate():this.gwdActivate());a=this.a;a.a&&google.maps.event.trigger(a.a,
"resize")};f.attributeChangedCallback=function(a,b,c){if(this.O)switch(a){case "query":this.a.c.query=c||"";break;case "start-latitude":this.a.c.lat=parseFloat(c);break;case "start-longitude":this.a.c.lng=parseFloat(c)}};
f.gwdLoad=function(){if(!this.O){this.O=!0;var a=this.a,b=a.ma.bind(a);a.m=2;Q(a,a.c.markerSource,b);a.m++;Q(a,a.c.gpsIconSource,b);a.m++;var c=a.c.clientId;a=a.c.apiKey;var d="";a&&!c&&(d="&key="+a);ha({callback:b,other_params:"sensor=true&libraries=places"+(c?"&client="+c:"")+d});b()}};f.gwdIsLoaded=function(){return this.da};f.gwdActivate=function(){this.classList.remove("deactivated");this.P=!0};f.gwdDeactivate=function(){this.classList.add("deactivated");this.P=!1};f.gwdIsActive=function(){return this.P};
f.setCenter=function(a,b,c){S(this.f);R(this.a,a,b,c);this.F()};f.Ka=function(){this.c.requestLocation||this.F();this.classList.add("ready");this.da=!0;v("ready",this)};f.Fa=function(){this.f.show();S(this.l);this.ba.fetch()};f.Ga=function(a,b,c){this.setCenter(a,b,c)};f.Ea=function(a){S(this.f);this.l.X(a)};f.Da=function(a){this.f.show();S(this.l);var b=this.a,c=this.F.bind(this),d=this.Ca.bind(this);b.a&&(b.I||(b.I=new google.maps.Geocoder),b.I.geocode({address:a,bounds:b.ga},b.sa.bind(b,c,d)))};
f.F=function(){this.c.query?(this.f.show(),this.a.search(this.C.bind(this))):S(this.f);this.fa();v("mapopen",this)};f.C=function(a){S(this.f);a?v("resultsfound",this):(this.l.X(this.c.geocodeFailure),v("resultsnotfound",this))};f.Ca=function(){this.C(!1)};f.fa=function(){this.j&&S(this.j)};
f.S=function(a,b){this.j||(this.j=new T(this,this.Qa,this.a.u.bind(this.a),this.za.bind(this)));var c=this.j;c.H=a;c.Z.textContent=a.name;var d=a.vicinity||a.formatted_address;d=d.replace(/, /,",\n");c.G.textContent=d;if(a.formatted_phone_number){c.o.classList.remove("hidden");c.i.textContent=a.formatted_phone_number;d="tel:"+a.formatted_phone_number.replace(/[^\d]/g,"");var e=String(d.substr(0,4)).toLowerCase();0==("tel:"<e?-1:"tel:"==e?0:1)||(d="about:invalid#zClosurez");M(c.i,new H(F,d))}else c.o.classList.add("hidden");
c.b.classList.remove("hidden");b(this.j.b.firstChild.offsetHeight/2);b=a.geometry.location.lat();a=a.geometry.location.lng();v("pinclick",this,{lat:b,lng:a})};f.za=function(a){var b=this.a;if(b.a){var c=b.K?b.K.toString():"";a=encodeURIComponent(a.formatted_address);c="https://maps.google.com/maps?saddr="+escape(c)+"&daddr="+a;v("getdirections",b.M,{url:c}).detail.handled||N(c)}};da.Object.defineProperties(X,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return na}}});
customElements.define("gwd-map",X);}).call(this);
